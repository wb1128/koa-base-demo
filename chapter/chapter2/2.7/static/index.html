<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <input type="file">
  <button>点击上传</button>
  <button onclick="handleClick()">下载</button>
</body>
<script>
  document.querySelector('button').onclick = function() {
    let file = document.querySelector('input').files[0]
    let xhr = new XMLHttpRequest()
    xhr.open("post", '/upload', true)
    xhr.onload = function() {
      let res = JSON.parse(xhr.responseText)
      console.log(res)
    }
    let form = new FormData()
    form.append("file", file)
    xhr.send(form)
  }

  const handleClick = () => {
    window.open('/download/5502719b2e3d65e9a28a79501.jpeg')
  }
</script>
</html>